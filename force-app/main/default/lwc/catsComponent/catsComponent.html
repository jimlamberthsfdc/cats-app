<template>
    <lightning-card title="Cat Search">
        <lightning-combobox class="slds-var-p-horizontal_small" label="Select a breed" value={breed} options={breeds} onchange={handleBreedChange}></lightning-combobox>
        <lightning-input class="slds-var-p-horizontal_small" label="Enter a breed not listed" value={breed.label} onchange={handleCustomBreedInput}></lightning-input>
        <lightning-combobox class="slds-var-p-horizontal_small" label="Select a family-friendliness rating" value={familyFriendliness} options={familyFriendlinessScores} onchange={handleFamilyFriendlinessChange}></lightning-combobox>
    </lightning-card>
    <template lwc:if={loading}>
        <lightning-spinner alternative-text="Loading" size="large"></lightning-spinner>
    </template>
    <template lwc:elseif={gotCats}>
        <lightning-card title="Results">
            <template for:each={cats} for:item="cat">
                <div class="slds-var-m-horizontal_small slds-var-m-vertical_medium" key={cat.name}>
                    <img src={cat.image_link} alt={cat.name} />
                    <div class="slds-text-heading_small">Name: <span class="slds-text-body_regular">{cat.name}</span></div>
                    <div class="slds-text-heading_small">Origin: <span class="slds-text-body_regular">{cat.origin}</span></div>
                    <div class="slds-text-heading_small">Family Friendliness: <span class="slds-text-body_regular">{cat.family_friendly}</span></div>
                </div>
            </template>
        </lightning-card>
    </template>
    <template lwc:elseif={queryReturnedZeroResults}>
        <lightning-card title="Results">
            <p class="slds-var-p-horizontal_small">No results found.</p>
        </lightning-card>
    </template>
    <template lwc:elseif={isError}>
        <lightning-card title="Error fetching cats:">
            <p class="slds-var-p-horizontal_small">{errorMessage}</p>
        </lightning-card>
    </template>
</template>